<!DOCTYPE html>
<html>
  <head>
      <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/aframe-multi-camera@latest/src/multi-camera.min.js"></script>
      <script src="../../components/head-tracking/dist/head-tracking.js"></script>
      <script src="../../components/window-3d/index.js"></script>
      <script src="./draggable-div.js"></script>
      <link rel="stylesheet" href="./styles.css"/>
  </head>
  <body>
    <div>
      <!-- Setting the a-scene as "embedded" allows us to customize the canvas dimensions, so that
            they aren't "fullscreen".
            See: https://aframe.io/docs/1.2.0/components/embedded.html
            Note that the A-Frme canvas must cover the entiire area where you want to do any rendering.
      -->
      <a-scene embedded style="position:absolute; height: 100%; width: 100%"
               xr-mode-ui="enabled: false"
               background="color: #113">
        <a-entity camera look-controls="enabled:false" position="0 1.6 0"></a-entity>
        <a-assets>
          <a-asset-item id="starry-night" src="../../assets/starry-night/starry-night.glb"></a-asset-item>
        </a-assets>

        <a-entity id="container" position = "0 0 -1">
          <a-entity position="-0.5 -1.3 0" scale="2 2 2" rotation="180 0 180">
            <a-entity gltf-model="#starry-night"></a-entity>
          </a-entity>
        </a-entity>

        <a-entity position="0 1.6 1"
                  rotation="0 0 0">
          
          <a-entity id="camera1"
                    secondary-camera="outputElement:#viewport1;sequence: replace"]
                    window-3d="adjustFactor: 3"
                    head-tracker="stabilizationFactor: 0.75"
                    face-detector>
          </a-entity>
        </a-entity>
      </a-scene>
    </div>

    <div style = "width: 100%; display: flex; flex-direction: column">
      <div>
        <div id="viewport1" style="position: absolute; top: 100px; left: 200px; width: 600px; height:400px; margin: 10px;">
        </div>
      </div>
    </div>
  </body>
</html>
