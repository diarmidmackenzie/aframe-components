<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,user-scalable=no,maximum-scale=1">
    <title>Test generation of PhysX Physics Shape from 2 x parallel planes</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/physx@117b6be/dist/physx.js"></script>
    <script src="./test-geometries.js"></script>
    <script src="../../ball-blaster/index.js"></script>
    <script src="../../desktop-vr-controller/dist/desktop-vr-controller.js"></script>
    <script>
      AFRAME.registerComponent('rain', {

        schema: {
          radius: { default: 0.01},
          ballColor: { default: 'red'},
        },

        init() {
          for (let ii = -1.3; ii < 1.3; ii += 0.1) {
            for (let jj = -1.3; jj < 1.3; jj += 0.1) {
              const ballHTML = `
                <a-sphere
                  radius = ${this.data.radius}
                  color = ${this.data.ballColor}
                  position = '${ii} 2 ${jj}'
                  physx-body='type: dynamic'>
                </a-sphere>
              `
              this.el.insertAdjacentHTML('beforeend', ballHTML)
            }
          }
        }
      })
    </script>
    <link rel="stylesheet" href="../../../styles.css">
  </head>
  <body>
    <div class="text-overlay">
      <p>Generate PhysX Physics Shape from prism (ExtrudeGeometry)s</p>
    </div>
        <a class="code-link"
        target="_blank"
        href="https://github.com/diarmidmackenzie/aframe-components/blob/master/xr-room-physics/test/physx-shape-test.html">
        view code
    </a>
    <a-scene physx="autoLoad: true; delay: 1000">
      <!-- Test shape -->
      <a-entity prism
                position="1 0.5 -3"
                rotation="0 80 0"
                physx-body="type: static">
      </a-entity>

      <a-entity rain
                position="1 1.5 -3">
      </a-entity>

    </a-scene>
  </body>
</html>
