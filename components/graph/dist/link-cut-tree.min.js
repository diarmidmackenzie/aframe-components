(()=>{var t={76:t=>{"use strict";function e(t,e,n,r,i,l){var o=["function ",t,"(a,l,h,",r.join(","),"){",l?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return l?e.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",e,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),l?o.push("return -1};"):o.push("return i};"),o.join("")}function n(t,n,r,i){return new Function([e("A","x"+t+"y",n,["y"],!1,i),e("B","x"+t+"y",n,["y"],!0,i),e("P","c(x,y)"+t+"0",n,["y","c"],!1,i),e("Q","c(x,y)"+t+"0",n,["y","c"],!0,i),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:n(">=",!1,"GE"),gt:n(">",!1,"GT"),lt:n("<",!0,"LT"),le:n("<=",!0,"LE"),eq:n("-",!0,"EQ",!0)}},350:(t,e,n)=>{"use strict";t.exports=function(t){var e=[null],n=new p(t,e,[]);return e[0]=r(n),n};var r=n(950),i=n(571),l=n(537),o=0;function u(t){var e=t.s,n=t.t;a(e,t),a(n,t),t.level+=1,i.insert(e.adjacent,t),i.insert(n.adjacent,t),e.euler.length<=t.level&&e.euler.push(r(e));var l=e.euler[t.level];l.setFlag(!0),n.euler.length<=t.level&&n.euler.push(r(n));var o=n.euler[t.level];o.setFlag(!0),t.euler&&t.euler.push(l.link(o,t))}function a(t,e){var n=t.adjacent,r=i.index(n,e);n.splice(r,1),r<n.length&&n[r].level===e.level||r>0&&n[r-1].level===e.level||t.euler[e.level].setFlag(!1)}function s(t){for(var e=t.s.euler,n=t.t.euler,i=new Array(t.level+1),l=0;l<i.length;++l)e.length<=l&&e.push(r(t.s)),n.length<=l&&n.push(r(t.t)),i[l]=e[l].link(n[l],t);t.euler=i}function h(t,e,n,r,i,l){this.value=t,this.key=e,this.s=n,this.t=r,this.level=i,this.euler=l}var f=h.prototype;function p(t,e,n){this.value=t,this.euler=e,this.adjacent=n}f.valueOf=function(){return this.value},f.cut=function(){var t;if(this.s){if(a(this.s,this),a(this.t,this),this.euler){for(var e=0;e<this.euler.length;++e)this.euler[e].cut();for(e=this.level;e>=0;--e){var n=this.s.euler[e].node.root(),r=this.t.euler[e].node.root();t=e,n.count>r.count?l(r):l(n)}}this.s=this.t=this.euler=null,this.level=32}function l(e){if(e.flag)for(var n=e.value.value.adjacent,r=i.level(n,t);r<n.length&&n[r].level===t;++r){var o=n[r],a=o.s,h=o.t;if(!a.euler[t].path(h.euler[t]))return s(o),!0;u(o),r-=1}return!!(e.left&&e.left.flagAggregate&&l(e.left))||!!(e.right&&e.right.flagAggregate&&l(e.right))}};var c=p.prototype;c.connected=function(t){return this.euler[0].path(t.euler[0])},c.link=function(t,e){var n=new h(e,o++,this,t,0,null);return this.euler[0].path(t.euler[0])||s(n),this.euler[0].setFlag(!0),t.euler[0].setFlag(!0),i.insert(this.adjacent,n),i.insert(t.adjacent,n),n},c.valueOf=function(){return this.value},c.componentSize=function(){return this.euler[0].count()},c.cut=function(){for(;this.adjacent.length>0;)this.adjacent[this.adjacent.length-1].cut()},c.component=function(){return new l(this.euler[0].node)}},537:()=>{"use strict";var t=function(t){this.node=t}.prototype;t.vertex=function(){return this.node.value.value},t.size=function(){return this.node.root().count},t.valid=function(){return!!this.node},t.valueOf=function(){if(this.node)return this.vertex().value},t.next=function(){var t=this.node;for(t&&(t=t.next);t&&"vertex"!==t.value.type;)t=t.next;return this.node=t,!!t},t.hasNext=function(){var t=this.node;for(t&&(t=t.next);t&&"vertex"!==t.value.type;)t=t.next;return!!t},t.prev=function(){var t=this.node;for(t&&(t=t.prev);t&&"vertex"!==t.value.type;)t=t.prev;return this.node=t,!!t},t.hasPrev=function(){var t=this.node;for(t&&(t=t.prev);t&&"vertex"!==t.value.type;)t=t.prev;return!!t},t.first=function(){this.node&&(this.node=this.node.first(),"vertex"!==this.node.value.type&&this.next())},t.last=function(){this.node&&(this.node=this.node.last(),"vertex"!==this.node.value.type&&this.prev())}},571:(t,e,n)=>{"use strict";e.insert=function(t,e){t.splice(r.gt(t,e,i),0,e)},e.remove=function(t,e){var n=o(t,e);n>=0&&t.splice(n,1)},e.level=function(t,e){return r.ge(t,e,l)},e.index=o;var r=n(76);function i(t,e){return t.level-e.level||t.key-e.key}function l(t,e){return t.level-e}function o(t,e){return r.eq(t,e,i)}},950:(t,e,n)=>{"use strict";t.exports=function(t){var e=new o(t,null);return e.node=r(e),e};var r=n(472);function i(t,e,n,r,i){this.value=t,this.s=e,this.t=n,this.node=r,this.opposite=i}var l=i.prototype;function o(t,e){this.value=t,this.node=e}l.type="edge",l.cleanup=function(){var t=this.node;t.remove(),t.value=null,this.node=null,this.opposite=null,this.s=null,this.t=null},l.cut=function(){var t=this.opposite,e=this.node,n=e.split(),r=t.node,i=r.split();null!==i&&e.root()!==i.root()?e.concat(i):null!==n&&r.root()!==n.root()&&r.concat(n),this.cleanup(),t.cleanup()};var u=o.prototype;u.type="vertex",u.setFlag=function(t){this.node.setFlag(t)},u.path=function(t){return this.node.root()===t.node.root()},u.makeRoot=function(){var t=this.node,e=t.split();e&&e.concat(t)},u.link=function(t,e){this.makeRoot(),t.makeRoot();var n=new i(e,this,t,null,null),r=new i(e,t,this,null,n);return n.opposite=r,n.node=this.node.insert(n),r.node=t.node.insert(r),this.node.concat(t.node),n},u.count=function(){return this.node.root().count},u.cleanup=function(){this.node.remove(),this.node.value=null,this.node=null}},472:t=>{"use strict";function e(t){var e=t&&t.type;return e?"vertex"===e?1:0:1}function n(t,e,n,r,i,l,o,u,a,s){this.value=t,this.flag=e,this.flagAggregate=n,this.count=r,this.priority=i,this.parent=l,this.left=o,this.right=u,this.next=a,this.prev=s}t.exports=function(t){return new n(t,!1,!1,e(t),Math.random(),null,null,null,null,null)};var r=n.prototype;function i(t,e){return null===t?e:null===e?t:t.priority<e.priority?(t.right=i(t.right,e),t.right.parent=t,t.update(),t):(e.left=i(t,e.left),e.left.parent=e,e.update(),e)}r.bubbleUp=function(){for(;(n=this.parent)&&!(n.priority<this.priority);){if(this===n.left){var t=this.right;n.left=t,t&&(t.parent=n),this.right=n}else t=this.left,n.right=t,t&&(t.parent=n),this.left=n;n.update(),this.update();var e=n.parent;n.parent=this,this.parent=e,e&&(e.left===n?e.left=this:e.right=this)}for(var n=this.parent;n;)n.update(),n=n.parent},r.root=function(){for(var t=this;t.parent;)t=t.parent;return t},r.first=function(){for(var t=this.root();t.left;)t=t.left;return t},r.last=function(){for(var t=this.root();t.right;)t=t.right;return t},r.insert=function(t){if(!this.right){var r=this.right=new n(t,!1,!1,e(t),Math.random(),this,null,null,this.next,this);return this.next&&(this.next.prev=r),this.next=r,r.bubbleUp(),r}var i=this.next;return r=i.left=new n(t,!1,!1,e(t),Math.random(),i,null,null,i,this),i.prev=r,this.next=r,r.bubbleUp(),r},r.update=function(){var t=e(this.value),n=this.flag;this.left&&(t+=this.left.count,n=n||this.left.flagAggregate),this.right&&(t+=this.right.count,n=n||this.right.flagAggregate),this.count=t,this.flagAggregate=n},r.setFlag=function(t){this.flag=t;for(var e=this;e;e=e.parent){var n=e.flagAggregate;if(e.update(),n===e.flagAggregate)break}},r.remove=function(){var t=this;t.left&&t.right&&function(t,e){var n=t.priority;t.priority=e.priority,e.priority=n;var r=t.parent;t.parent=e.parent,e.parent&&(e.parent.left===e?e.parent.left=t:e.parent.right=t),e.parent=r,r&&(r.left===t?r.left=e:r.right=e),r=t.left,t.left=e.left,e.left&&(e.left.parent=t),e.left=r,r&&(r.parent=e),r=t.right,t.right=e.right,e.right&&(e.right.parent=t),e.right=r,r&&(r.parent=e),r=t.next,t.next=e.next,e.next&&(e.next.prev=t),e.next=r,r&&(r.prev=e),r=t.prev,t.prev=e.prev,e.prev&&(e.prev.next=t),e.prev=r,r&&(r.next=e);var i=t.count;t.count=e.count,e.count=i;var l=t.flag;t.flag=e.flag,e.flag=l,l=t.flagAggregate,t.flagAggregate=e.flagAggregate,e.flagAggregate=l}(t.next,t),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next);var e=null;if((e=t.left?t.left:t.right)&&(e.parent=t.parent),t.parent){t.parent.left===t?t.parent.left=e:t.parent.right=e;for(var n=t.parent;n;)n.update(),n=n.parent}t.parent=t.left=t.right=t.prev=t.next=null,t.count=1},r.split=function(){var t=this.insert();t.priority=-1/0,t.bubbleUp();var e=t.left,n=t.right;return e&&(e.parent=null),n&&(n.parent=null),t.prev&&(t.prev.next=null),t.next&&(t.next.prev=null),n},r.concat=function(t){if(t){for(var e=this.root(),n=e;n.right;)n=n.right;for(var r=t.root(),l=r;l.left;)l=l.left;n.next=l,l.prev=n;var o=i(e,r);return o.parent=null,o}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var l=e[r]={exports:{}};return t[r](l,l.exports,n),l.exports}(()=>{const t=n(350);AFRAME.registerComponent("lct-node",{init(){this.node=t(this.el.object3D.id)},remove(){this.node.cut(),this.node=null}}),AFRAME.registerComponent("lct-link",{dependencies:["lct-node"],multiple:!0,schema:{target:{type:"selector"}},init(){this.data.target.hasLoaded?this.addEdge():this.data.target.addEventListener("loaded",(()=>this.addEdge()))},addEdge(){const t=this.data.target.components["lct-node"].node;t||console.warn("lct-link: No node found for target element:",this.data.target.id);const e=this.el.components["lct-node"].node;this.edge=e.link(t),console.log(e.componentSize()),console.log(t.componentSize())},remove(){this.edge.cut()}})})()})();